[{"C:\\Users\\47319\\Desktop\\practise\\React-1000phone-practice\\react_documentary_web\\src\\index.jsx":"1","C:\\Users\\47319\\Desktop\\practise\\React-1000phone-practice\\react_documentary_web\\src\\pages\\index.jsx":"2","C:\\Users\\47319\\Desktop\\practise\\React-1000phone-practice\\react_documentary_web\\src\\pages\\login\\index.jsx":"3","C:\\Users\\47319\\Desktop\\practise\\React-1000phone-practice\\react_documentary_web\\src\\pages\\common\\NotFound.jsx":"4","C:\\Users\\47319\\Desktop\\practise\\React-1000phone-practice\\react_documentary_web\\src\\pages\\common\\NotRight.jsx":"5","C:\\Users\\47319\\Desktop\\practise\\React-1000phone-practice\\react_documentary_web\\src\\pages\\home\\index.jsx":"6","C:\\Users\\47319\\Desktop\\practise\\React-1000phone-practice\\react_documentary_web\\src\\store\\index.js":"7","C:\\Users\\47319\\Desktop\\practise\\React-1000phone-practice\\react_documentary_web\\src\\store\\reducer\\index.js":"8","C:\\Users\\47319\\Desktop\\practise\\React-1000phone-practice\\react_documentary_web\\src\\store\\reducer\\commonReducer.js":"9","C:\\Users\\47319\\Desktop\\practise\\React-1000phone-practice\\react_documentary_web\\src\\store\\action\\types.js":"10","C:\\Users\\47319\\Desktop\\practise\\React-1000phone-practice\\react_documentary_web\\src\\store\\action\\commonAction.js":"11","C:\\Users\\47319\\Desktop\\practise\\React-1000phone-practice\\react_documentary_web\\src\\util\\index.js":"12","C:\\Users\\47319\\Desktop\\practise\\React-1000phone-practice\\react_documentary_web\\src\\apis\\userApi.js":"13","C:\\Users\\47319\\Desktop\\practise\\React-1000phone-practice\\react_documentary_web\\src\\apis\\ajax.js":"14","C:\\Users\\47319\\Desktop\\practise\\React-1000phone-practice\\react_documentary_web\\src\\pages\\base\\RoleList.js":"15","C:\\Users\\47319\\Desktop\\practise\\React-1000phone-practice\\react_documentary_web\\src\\pages\\base\\MaterialList.js":"16","C:\\Users\\47319\\Desktop\\practise\\React-1000phone-practice\\react_documentary_web\\src\\pages\\base\\SupplierList.js":"17","C:\\Users\\47319\\Desktop\\practise\\React-1000phone-practice\\react_documentary_web\\src\\pages\\common\\PageLayout.jsx":"18","C:\\Users\\47319\\Desktop\\practise\\React-1000phone-practice\\react_documentary_web\\src\\pages\\user\\Edit.jsx":"19","C:\\Users\\47319\\Desktop\\practise\\React-1000phone-practice\\react_documentary_web\\src\\pages\\user\\List.jsx":"20","C:\\Users\\47319\\Desktop\\practise\\React-1000phone-practice\\react_documentary_web\\src\\pages\\purchase\\List.jsx":"21","C:\\Users\\47319\\Desktop\\practise\\React-1000phone-practice\\react_documentary_web\\src\\pages\\receiving\\Edit.jsx":"22","C:\\Users\\47319\\Desktop\\practise\\React-1000phone-practice\\react_documentary_web\\src\\pages\\receiving\\List.jsx":"23","C:\\Users\\47319\\Desktop\\practise\\React-1000phone-practice\\react_documentary_web\\src\\pages\\project\\Edit.jsx":"24","C:\\Users\\47319\\Desktop\\practise\\React-1000phone-practice\\react_documentary_web\\src\\pages\\purchase\\Edit.jsx":"25","C:\\Users\\47319\\Desktop\\practise\\React-1000phone-practice\\react_documentary_web\\src\\pages\\project\\List.jsx":"26","C:\\Users\\47319\\Desktop\\practise\\React-1000phone-practice\\react_documentary_web\\src\\pages\\common\\userListComponent.jsx":"27","C:\\Users\\47319\\Desktop\\practise\\React-1000phone-practice\\react_documentary_web\\src\\pages\\common\\purchaseComponent.jsx":"28"},{"size":578,"mtime":1610000090244,"results":"29","hashOfConfig":"30"},{"size":3203,"mtime":1610450319332,"results":"31","hashOfConfig":"30"},{"size":5938,"mtime":1609749716756,"results":"32","hashOfConfig":"30"},{"size":283,"mtime":1609169141106,"results":"33","hashOfConfig":"30"},{"size":398,"mtime":1609751108371,"results":"34","hashOfConfig":"30"},{"size":24624,"mtime":1609982545065,"results":"35","hashOfConfig":"30"},{"size":504,"mtime":1609384676325,"results":"36","hashOfConfig":"30"},{"size":127,"mtime":1609166698439,"results":"37","hashOfConfig":"30"},{"size":1026,"mtime":1609721475366,"results":"38","hashOfConfig":"30"},{"size":128,"mtime":1609241921694,"results":"39","hashOfConfig":"30"},{"size":275,"mtime":1609313929575,"results":"40","hashOfConfig":"30"},{"size":1106,"mtime":1609759421018,"results":"41","hashOfConfig":"30"},{"size":4554,"mtime":1610272205889,"results":"42","hashOfConfig":"30"},{"size":911,"mtime":1611040504745,"results":"43","hashOfConfig":"30"},{"size":233,"mtime":1609670177739,"results":"44","hashOfConfig":"30"},{"size":237,"mtime":1609670177722,"results":"45","hashOfConfig":"30"},{"size":237,"mtime":1609670177746,"results":"46","hashOfConfig":"30"},{"size":8000,"mtime":1610982059362,"results":"47","hashOfConfig":"30"},{"size":12123,"mtime":1610021304469,"results":"48","hashOfConfig":"30"},{"size":6232,"mtime":1610022207416,"results":"49","hashOfConfig":"30"},{"size":16251,"mtime":1610266681208,"results":"50","hashOfConfig":"30"},{"size":6145,"mtime":1610370006919,"results":"51","hashOfConfig":"30"},{"size":16387,"mtime":1610369830551,"results":"52","hashOfConfig":"30"},{"size":9179,"mtime":1610068664263,"results":"53","hashOfConfig":"30"},{"size":14016,"mtime":1610369540205,"results":"54","hashOfConfig":"30"},{"size":6450,"mtime":1610450263645,"results":"55","hashOfConfig":"30"},{"size":5009,"mtime":1610018878076,"results":"56","hashOfConfig":"30"},{"size":10437,"mtime":1610264414028,"results":"57","hashOfConfig":"30"},{"filePath":"58","messages":"59","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"60"},"14qbqpe",{"filePath":"61","messages":"62","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"60"},{"filePath":"63","messages":"64","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"60"},{"filePath":"65","messages":"66","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"60"},{"filePath":"67","messages":"68","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"60"},{"filePath":"69","messages":"70","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"71","usedDeprecatedRules":"60"},{"filePath":"72","messages":"73","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"60"},{"filePath":"74","messages":"75","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"60"},{"filePath":"76","messages":"77","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"78","usedDeprecatedRules":"60"},{"filePath":"79","messages":"80","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"60"},{"filePath":"81","messages":"82","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"60"},{"filePath":"83","messages":"84","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"60"},{"filePath":"85","messages":"86","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"60"},{"filePath":"87","messages":"88","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"89","messages":"90","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"60"},{"filePath":"91","messages":"92","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"60"},{"filePath":"93","messages":"94","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"60"},{"filePath":"95","messages":"96","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"97","messages":"98","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"60"},{"filePath":"99","messages":"100","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"60"},{"filePath":"101","messages":"102","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"60"},{"filePath":"103","messages":"104","errorCount":0,"warningCount":5,"fixableErrorCount":0,"fixableWarningCount":0,"source":"105","usedDeprecatedRules":"60"},{"filePath":"106","messages":"107","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"60"},{"filePath":"108","messages":"109","errorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"110","usedDeprecatedRules":"60"},{"filePath":"111","messages":"112","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"113","usedDeprecatedRules":"60"},{"filePath":"114","messages":"115","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"60"},{"filePath":"116","messages":"117","errorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"118","usedDeprecatedRules":"60"},{"filePath":"119","messages":"120","errorCount":0,"warningCount":4,"fixableErrorCount":0,"fixableWarningCount":0,"source":"121","usedDeprecatedRules":"60"},"C:\\Users\\47319\\Desktop\\practise\\React-1000phone-practice\\react_documentary_web\\src\\index.jsx",[],["122","123"],"C:\\Users\\47319\\Desktop\\practise\\React-1000phone-practice\\react_documentary_web\\src\\pages\\index.jsx",[],"C:\\Users\\47319\\Desktop\\practise\\React-1000phone-practice\\react_documentary_web\\src\\pages\\login\\index.jsx",[],"C:\\Users\\47319\\Desktop\\practise\\React-1000phone-practice\\react_documentary_web\\src\\pages\\common\\NotFound.jsx",[],"C:\\Users\\47319\\Desktop\\practise\\React-1000phone-practice\\react_documentary_web\\src\\pages\\common\\NotRight.jsx",[],"C:\\Users\\47319\\Desktop\\practise\\React-1000phone-practice\\react_documentary_web\\src\\pages\\home\\index.jsx",["124","125"],"import React, { Component, createRef } from 'react'\r\nimport { connect } from 'react-redux'\r\nimport '../../style/home.less'\r\nimport { Card, message } from 'antd'\r\nimport { dateFormat } from '../../util'\r\nimport axios from 'axios'\r\nimport { getPaidApi } from '../../apis/userApi' \r\nimport echarts from 'echarts'\r\n\r\n const mapStateToProps = (state) => {\r\n  return {\r\n    userInfo: state.common.userInfo,\r\n  }\r\n}\r\n\r\n\r\n\r\n@connect(mapStateToProps)\r\nclass Home extends Component {\r\n\r\n  state = {\r\n    date: '',\r\n    payData: [],\r\n    weather: '',\r\n    barNode: createRef(),\r\n    barChart: null,\r\n    pieNode: createRef(),\r\n    pieChart: null,\r\n    lineNode: createRef(),\r\n    lineChart: null,\r\n    socket: null,\r\n    result: {}\r\n  }\r\n\r\n  async componentDidMount () {\r\n\r\n    this.getWeather()\r\n\r\n    this.setState({\r\n      date: dateFormat('yyyy年MM月dd日'),\r\n      barChart: echarts.init(this.state.barNode.current),\r\n      lineChart: echarts.init(this.state.lineNode.current),\r\n      pieChart: echarts.init(this.state.pieNode.current),\r\n    }, () => {\r\n        setTimeout(() => {\r\n            this.resizeChart()\r\n            \r\n            this.barChart()\r\n            this.getLoopData()\r\n            this.lineChart()\r\n        }, 300);\r\n    })\r\n\r\n\r\n\r\n\r\n    // let result = await getPaidApi()\r\n    // if(result.code === 200) {\r\n    //   message.error('获取收付款信息成功！')\r\n    //   setTimeout(() => {\r\n          \r\n    //   }, 200);\r\n    //   this.state.barChart = echarts.init(this.state.barNode.current)\r\n    //   this.barChart(result)\r\n    // }\r\n\r\n  \r\n\r\n\r\n    window.addEventListener('resize', this.resizeChart)\r\n\r\n  }\r\n\r\n  componentWillUnmount () {\r\n      window.removeEventListener('resize', this.resizeChart)\r\n      if(this.state.barChart) this.state.barChart.dispose()\r\n      if(this.state.pieChart) this.state.pieChart.dispose()\r\n      if(this.state.lineChart) this.state.lineChart.dispose()\r\n      if(this.state.socket) this.state.socket.close()\r\n  }\r\n\r\n  \r\n\r\n\r\n  resizeChart = () => {\r\n      if(this.state.barChart) this.state.barChart.resize()\r\n      if(this.state.pieChart) this.state.pieChart.resize()\r\n      if(this.state.lineChart) this.state.lineChart.resize()\r\n  }\r\n\r\n  async getWeather () {\r\n    let res = await axios.get('https://devapi.heweather.net/v7/weather/now?location=101270101&key=8df82472137d4e7f95b18693a86bec41')\r\n    if(res.data.code !== '200') {\r\n      message.error('获取天气信息失败！')\r\n      return\r\n    }\r\n    this.setState({\r\n      weather: `天气：${res.data.now.text}, 温度：${res.data.now.temp}, 风向：${res.data.now.windDir}`\r\n    })\r\n  }\r\n\r\n  async getLoopData () {\r\n    let socket = window.io('http://www.shuiyue.info:12300')\r\n\r\n    socket.on('connect', data => {\r\n      socket.emit('clientEvt', { type: 'getTodayHot' })\r\n    })\r\n\r\n    socket.on('serverEvt', data => {\r\n      // this.setState({\r\n      //   payData: [...data]\r\n      // })\r\n      this.pieChart(data)\r\n    })\r\n\r\n    socket.on('error', () => {\r\n      console.log('webSocket连接失败！')\r\n    })\r\n\r\n    this.setState({socket})\r\n\r\n  }\r\n\r\n\r\n  async barChart () {\r\n    \r\n    let result = await getPaidApi()\r\n    if(result.code !== 200) {\r\n      message.error('获取收付款信息失败！')\r\n      return\r\n    }\r\n\r\n    let label = [],\r\n        color = [['#A35AE0', '#6830E7'], ['#66FF66', '#00CA98'], ['#0CEBEA', '#368BFF']],\r\n        names = ['已收', '应收', '合计'],\r\n        data = [[], [], []],\r\n        series = []\r\n    \r\n    for(let item of result.data) {\r\n      label.push(item.date)\r\n      data[0].push(item.received)\r\n      data[1].push(item.receiving)\r\n      data[2].push(item.total)\r\n\r\n    }\r\n\r\n    for (let i = 0; i < data.length; i++) {\r\n      series.push({\r\n        name: names[i],\r\n        type: 'bar',\r\n        barWidth: '15%',\r\n        itemStyle: {\r\n            normal: {\r\n                color: new echarts.graphic.LinearGradient(0, 0, 0, 1, [{\r\n                    offset: 0,\r\n                    color: color[i][0]\r\n                }, {\r\n                    offset: 1,\r\n                    color: color[i][1]\r\n                }]),\r\n                barBorderRadius: 11,\r\n            }\r\n        },\r\n        data: data[i]\r\n      })\r\n    }\r\n\r\n    \r\n    var xData = label;\r\n    var option = {\r\n        // backgroundColor: '#060B1C',\r\n        tooltip: {\r\n            trigger: 'axis',\r\n            // backgroundColor: 'none',\r\n            padding: 5,\r\n          \r\n        },\r\n        grid: {\r\n            left: '10%',\r\n            top: '8%',\r\n            right: '5%',\r\n            bottom: '19%',\r\n        },\r\n        legend: {\r\n          data: names,\r\n          itemWidth: 12,\r\n          itemHeight: 10,\r\n          color: '#242424'\r\n        },\r\n        xAxis: [{\r\n            type: 'category',\r\n            data: xData,\r\n            axisLabel: {\r\n                show: true,\r\n                // rotate: 20,\r\n                fontSize: 9,\r\n                textStyle: {\r\n                    // color: \"#C9C8CD\" //X轴文字颜色\r\n                },\r\n                formatter: function(value) {\r\n                    var str = \"\";\r\n                    str += value.substring(0, 4) + \"\\n\";\r\n                    str += value.substring(5, 10);\r\n                    return str;\r\n                }\r\n            },\r\n            axisLine: {\r\n                show: false //不显示x轴\r\n            },\r\n            axisTick: {\r\n                show: false //不显示刻度\r\n            },\r\n            // boundaryGap: false,\r\n            splitLine: {\r\n                show: true,\r\n                width: 0.08,\r\n                lineStyle: {\r\n                    type: \"solid\",\r\n                    color: \"#03202E\"\r\n                }\r\n            },\r\n            axisPointer: { //轴指示器\r\n                type: 'shadow',\r\n                z: 1,\r\n                shadowStyle: {\r\n                    color: {\r\n                        type: 'linear',\r\n                        x: 0,\r\n                        y: 0,\r\n                        x2: 0,\r\n                        y2: 1,\r\n                        colorStops: [{\r\n                            offset: 0,\r\n                            color: 'rgba(18,155,249,0)' // 0% 处的颜色\r\n                        }, {\r\n                            offset: 1,\r\n                            color: 'rgba(18,155,249,1)' // 100% 处的颜色\r\n                        }],\r\n                        global: false // 缺省为 false\r\n                    },\r\n                    shadowColor: 'rgba(0, 0, 0, 0.2)',\r\n                    shadowBlur: 5\r\n                }\r\n            },\r\n    \r\n        }],\r\n        yAxis: [{\r\n            type: 'value',\r\n            // scale: true, //坐标轴起点不限制0\r\n            axisLabel: {\r\n                show: true,\r\n                textStyle: {\r\n                    fontSize: 9,\r\n                    // color: \"#C9C8CD\" //X轴文字颜色\r\n                }\r\n            },\r\n            splitLine: {\r\n                show: false,\r\n    \r\n            },\r\n            axisTick: {\r\n                show: false, //不显示刻度\r\n            },\r\n            axisLine: {\r\n                show: false,\r\n            },\r\n            nameTextStyle: {\r\n                color: \"#FFFFFF\"\r\n            },\r\n            splitArea: {\r\n                show: false\r\n            }\r\n        }],\r\n        series\r\n    };\r\n\r\n    this.state.barChart.setOption(option)\r\n  }\r\n\r\n  async pieChart(_data) {\r\n    var img = 'data:image/png;base64,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';\r\n\r\n    var trafficWay = [{\r\n        name: _data[1].name,\r\n        value: _data[1].amount\r\n    },{\r\n        name: _data[2].name,\r\n        value: _data[2].amount\r\n    },{\r\n      name: _data[4].name,\r\n      value: _data[4].amount\r\n    },{\r\n      name: _data[5].name,\r\n      value: _data[5].amount\r\n    }];\r\n\r\n    var data = [];\r\n    var color=['#00ffff','#00cfff','#006ced','#ffe000','#ffa800','#ff5b00','#ff3000']\r\n    for (var i = 0; i < trafficWay.length; i++) {\r\n        data.push({\r\n            value: trafficWay[i].value,\r\n            name: trafficWay[i].name,\r\n            itemStyle: {\r\n                normal: {\r\n                    borderWidth: 5,\r\n                    shadowBlur: 20,\r\n                    borderColor:color[i],\r\n                    shadowColor: color[i]\r\n                }\r\n            }\r\n        }, {\r\n            value: 5000,\r\n            name: '',\r\n            itemStyle: {\r\n                normal: {\r\n                    label: {\r\n                        show: false\r\n                        \r\n                    },\r\n                    labelLine: {\r\n                        show: false\r\n                    },\r\n                    color: 'rgba(0, 0, 0, 0)',\r\n                    borderColor: 'rgba(0, 0, 0, 0)',\r\n                    borderWidth: 0\r\n                }\r\n    }\r\n        });\r\n    }\r\n    var seriesOption = [{\r\n        name: '',\r\n        type: 'pie',\r\n        clockWise: false,\r\n        radius: [105, 109],\r\n        hoverAnimation: false,\r\n        itemStyle: {\r\n            normal: {\r\n                label: {\r\n                    show: true,\r\n                    position: 'outside',\r\n                    formatter: function(params) {\r\n                      var percent = 0;\r\n                      var total = 0;\r\n                      for (var i = 0; i < trafficWay.length; i++) {\r\n                          total += trafficWay[i].value * 1;\r\n                      }\r\n                      console.log(total)\r\n                      percent = ((params.value * 1 / total) * 100).toFixed(0);\r\n                      if(params.name !== '') {\r\n                          return params.name + '\\n' + '\\n' + '占比' + percent + '%';\r\n                      }else {\r\n                          return '';\r\n                      }\r\n                  },\r\n                },\r\n                labelLine: {\r\n                    length:5,\r\n                    length2:10,\r\n                    show: true,\r\n                    // color:'#00ffff'\r\n                }\r\n            }\r\n        },\r\n        data: data\r\n    }];\r\n    let option = {\r\n        // backgroundColor: '#0A2E5D',\r\n        color : color,\r\n        title: {\r\n            text: '应收/付款',\r\n            top: '48%',\r\n            textAlign: \"center\",\r\n            left: \"49%\",\r\n            textStyle: {\r\n                color: '#006ced',\r\n                fontSize: 22,\r\n                fontWeight: '400'\r\n            }\r\n        },\r\n        graphic: {\r\n        elements: [{\r\n            type: \"image\",\r\n            z: 3,\r\n            style: {\r\n                image: img,\r\n                width: 178,\r\n                height: 178\r\n            },\r\n            left: 'center',\r\n            top:  'center',\r\n            position: [100, 100]\r\n        }]\r\n        },\r\n        tooltip: {\r\n            show: false\r\n        },\r\n        legend: {\r\n            icon: \"circle\",\r\n            orient: 'horizontal',\r\n            // x: 'left',\r\n            data:['已收款','未收款','已付款','未付款'],\r\n            itemGap: 20\r\n        },\r\n        toolbox: {\r\n            show: false\r\n        },\r\n        series: seriesOption\r\n    }\r\n    this.state.pieChart.setOption(option)\r\n  }\r\n\r\n\r\n  async lineChart() {\r\n\r\n    let result = await getPaidApi()\r\n    if(result.code !== 200) {\r\n      message.error('获取收付款信息失败！')\r\n      return\r\n    }\r\n\r\n    let label = [],\r\n        color = [['#A35AE0', '#6830E7'], ['#66FF66', '#00CA98'], ['#0CEBEA', '#368BFF']],\r\n        names = ['已收', '应收', '合计'],\r\n        data = [[], [], []],\r\n        series = []\r\n\r\n    for(let item of result.data) {\r\n        label.push(item.date)\r\n        data[0].push(item.received)\r\n        data[1].push(item.receiving)\r\n        data[2].push(item.total)\r\n    \r\n    }\r\n\r\n    for(let i = 0; i < data.length; i++) {\r\n        series.push(\r\n            {\r\n                name: names[i],\r\n                type: 'line',\r\n                data: data[i],\r\n                symbolSize: 1,\r\n                symbol: 'circle',\r\n                smooth: true,\r\n                yAxisIndex: 0,\r\n                showSymbol: false,\r\n                lineStyle: {\r\n                    width: 5,\r\n                    color: new echarts.graphic.LinearGradient(0, 1, 0, 0, [{\r\n                            offset: 0,\r\n                            color: color[i][0]\r\n                        },\r\n                        {\r\n                            offset: 1,\r\n                            color: color[i][1]\r\n                        }\r\n                    ]),\r\n                    shadowColor: 'rgba(158,135,255, 0.3)',\r\n                    shadowBlur: 10,\r\n                    shadowOffsetY: 20\r\n                },\r\n            }\r\n        )\r\n    }\r\n\r\n\r\n    const xData = label\r\n    let option = {\r\n        backgroundColor: '#fff',\r\n        title: {\r\n            textStyle: {\r\n                fontSize: 12,\r\n                fontWeight: 400\r\n            },\r\n            left: 'center',\r\n            top: '5%'\r\n        },\r\n        legend: {\r\n            data: names,\r\n            icon: 'circle',\r\n            top: '5%',\r\n            itemWidth: 6,\r\n            itemGap: 20,\r\n            textStyle: {\r\n                color: '#556677'\r\n            }\r\n        },\r\n        tooltip: {\r\n            trigger: 'axis',\r\n            axisPointer: {\r\n                label: {\r\n                    show: true,\r\n                    backgroundColor: '#fff',\r\n                    color: '#556677',\r\n                    borderColor: 'rgba(0,0,0,0)',\r\n                    shadowColor: 'rgba(0,0,0,0)',\r\n                    shadowOffsetY: 0\r\n                },\r\n                lineStyle: {\r\n                    width: 0\r\n                }\r\n            },\r\n            backgroundColor: '#fff',\r\n            textStyle: {\r\n                color: '#5c6c7c'\r\n            },\r\n            padding: [10, 10],\r\n            extraCssText: 'box-shadow: 1px 0 2px 0 rgba(163,163,163,0.5)'\r\n        },\r\n        grid: {\r\n            top: '15%'\r\n        },\r\n        xAxis: [{\r\n            type: 'category',\r\n            data: xData,\r\n            axisLine: {\r\n                lineStyle: {\r\n                    color: 'rgba(107,107,107,0.37)', //x轴颜色\r\n                }\r\n            },\r\n            axisTick: {\r\n                show: false\r\n            },\r\n            axisLabel: {\r\n                interval: 0,\r\n                textStyle: {\r\n                    color: '#999' //坐标轴字颜色\r\n                },\r\n                margin: 15,\r\n                rotate: 20\r\n            },\r\n            axisPointer: {\r\n                label: {\r\n                    padding: [11, 5, 7],\r\n                    backgroundColor: {\r\n                        type: 'linear',\r\n                        x: 0,\r\n                        y: 0,\r\n                        x2: 0,\r\n                        y2: 1,\r\n                        colorStops: [{\r\n                            offset: 0,\r\n                            color: '#fff' // 0% 处的颜色\r\n                        }, {\r\n                            offset: 0.9,\r\n                            color: '#fff' // 0% 处的颜色\r\n                        }, {\r\n                            offset: 0.9,\r\n                            color: '#33c0cd' // 0% 处的颜色\r\n                        }, {\r\n                            offset: 1,\r\n                            color: '#33c0cd' // 100% 处的颜色\r\n                        }],\r\n                        global: false // 缺省为 false\r\n                    }\r\n                }\r\n            },\r\n            boundaryGap: false\r\n        }],\r\n        yAxis: [{\r\n            type: 'value',\r\n            axisTick: {\r\n                show: false\r\n            },\r\n            axisLine: {\r\n                show: true,\r\n                lineStyle: {\r\n                    color: 'rgba(107,107,107,0.37)', //y轴颜色\r\n                }\r\n            },\r\n            axisLabel: {\r\n                textStyle: {\r\n                    color: '#999'\r\n                }\r\n            },\r\n            splitLine: {\r\n                show: false\r\n            }\r\n        }],\r\n        series\r\n    };\r\n    this.state.lineChart.setOption(option)\r\n\r\n  }\r\n\r\n\r\n  render() {\r\n    console.log(this.props)\r\n    return (\r\n      <div className='home-page-container'>\r\n        <div className='line'>\r\n          <div className='left'>\r\n            <Card style={{ width: '100%' }}>\r\n              <p>{this.props.userInfo.name} --- {this.props.userInfo.duties}</p>\r\n              <p>您好，欢迎登录贸易跟单系统</p>\r\n              <p>今天是：{this.state.date}</p>\r\n              <p>{this.state.weather}</p>\r\n            </Card>\r\n          </div>\r\n          <div>\r\n            <Card style={{ width: '100%' }}>\r\n              <div ref={this.state.barNode} style={{ height: '100%' }}> </div>\r\n            </Card>\r\n          </div>\r\n        </div>\r\n        <div className='line'>\r\n          <div className='left'>\r\n            <Card style={{ width: '100%' }}>\r\n              <div ref={this.state.pieNode} style={{ height: '100%' }}></div>\r\n            </Card>\r\n          </div>\r\n          <div>\r\n            <Card style={{ width: '100%' }}>\r\n              <div ref={this.state.lineNode} style={{ height: '100%' }}></div>\r\n            </Card>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    )\r\n    \r\n  }\r\n}\r\n\r\nexport default Home","C:\\Users\\47319\\Desktop\\practise\\React-1000phone-practice\\react_documentary_web\\src\\store\\index.js",[],"C:\\Users\\47319\\Desktop\\practise\\React-1000phone-practice\\react_documentary_web\\src\\store\\reducer\\index.js",[],"C:\\Users\\47319\\Desktop\\practise\\React-1000phone-practice\\react_documentary_web\\src\\store\\reducer\\commonReducer.js",["126"],"import { SET_TOKEN, SET_USER_INFO, SET_USER_MENU } from '../action/types'\r\n\r\nlet cache = sessionStorage.getItem('common-reducer-cash') || '{}'\r\ncache = JSON.parse(cache)\r\n\r\nconst initData = {\r\n  token: cache.token || '',\r\n  userInfo: cache.userInfo || {},\r\n  menu: cache.menu || []\r\n}\r\n\r\nexport default (state = initData, action) => {\r\n\r\n  let obj = null\r\n\r\n  // console.log(action)\r\n  switch (action.type) {\r\n    case SET_TOKEN :\r\n      obj = {\r\n        ...state,\r\n        token: action.token\r\n      }\r\n      sessionStorage.setItem('common-reducer-cash', JSON.stringify(obj))\r\n      return obj\r\n    case SET_USER_INFO :\r\n      obj = {\r\n        ...state,\r\n        userInfo: action.userInfo\r\n      }\r\n      sessionStorage.setItem('common-reducer-cash', JSON.stringify(obj))\r\n      return obj\r\n    case SET_USER_MENU :\r\n      obj = {\r\n        ...state,\r\n        menu: action.menu\r\n      }\r\n      sessionStorage.setItem('common-reducer-cash', JSON.stringify(obj))\r\n      return obj\r\n    default :\r\n      return {...state}\r\n  }\r\n}","C:\\Users\\47319\\Desktop\\practise\\React-1000phone-practice\\react_documentary_web\\src\\store\\action\\types.js",[],"C:\\Users\\47319\\Desktop\\practise\\React-1000phone-practice\\react_documentary_web\\src\\store\\action\\commonAction.js",[],"C:\\Users\\47319\\Desktop\\practise\\React-1000phone-practice\\react_documentary_web\\src\\util\\index.js",[],"C:\\Users\\47319\\Desktop\\practise\\React-1000phone-practice\\react_documentary_web\\src\\apis\\userApi.js",[],"C:\\Users\\47319\\Desktop\\practise\\React-1000phone-practice\\react_documentary_web\\src\\apis\\ajax.js",["127"],"C:\\Users\\47319\\Desktop\\practise\\React-1000phone-practice\\react_documentary_web\\src\\pages\\base\\RoleList.js",[],"C:\\Users\\47319\\Desktop\\practise\\React-1000phone-practice\\react_documentary_web\\src\\pages\\base\\MaterialList.js",[],"C:\\Users\\47319\\Desktop\\practise\\React-1000phone-practice\\react_documentary_web\\src\\pages\\base\\SupplierList.js",[],"C:\\Users\\47319\\Desktop\\practise\\React-1000phone-practice\\react_documentary_web\\src\\pages\\common\\PageLayout.jsx",["128"],"C:\\Users\\47319\\Desktop\\practise\\React-1000phone-practice\\react_documentary_web\\src\\pages\\user\\Edit.jsx",[],"C:\\Users\\47319\\Desktop\\practise\\React-1000phone-practice\\react_documentary_web\\src\\pages\\user\\List.jsx",[],"C:\\Users\\47319\\Desktop\\practise\\React-1000phone-practice\\react_documentary_web\\src\\pages\\purchase\\List.jsx",[],"C:\\Users\\47319\\Desktop\\practise\\React-1000phone-practice\\react_documentary_web\\src\\pages\\receiving\\Edit.jsx",["129","130","131","132","133"],"import React, { Component, createRef } from 'react'\r\nimport { Input, Button, Row, Col, Form, Modal, DatePicker, Cascader, message, Select } from 'antd'\r\n\r\n\r\nlet isEdit\r\nclass Edit extends Component {\r\n    state = {\r\n        form: createRef()\r\n    }\r\n\r\n\r\n    async componentDidMount () {\r\n        console.log(this)\r\n        isEdit = this.props.location.isEdit || false\r\n        let receivingId = this.props.location.receivingId\r\n\r\n    }\r\n\r\n\r\n    \r\n    async editEvt (type) {\r\n        switch (type) {\r\n            case 'save':\r\n                try {\r\n                    await this.state.form.current.validateFields()\r\n                    if (isEdit) {\r\n                        this.updatePurchase()\r\n                    } else {\r\n                        this.addPurchase()\r\n                    }\r\n                } catch (e) {}\r\n            break\r\n                \r\n            case 'return':\r\n                this.props.history.goBack()\r\n                break\r\n            default:\r\n                break\r\n        }\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div className='page-layout-container'>\r\n                <header>\r\n                    <Button type='primary' onClick={this.editEvt.bind(this, 'save')}>保存</Button>\r\n                    <Button onClick={this.editEvt.bind(this, 'return')}>返回</Button>\r\n                </header>\r\n                <article>\r\n                <Form ref={this.state.form}>\r\n                        <Row gutter={16}>\r\n                            <Col className=\"gutter-row\" span={6}>\r\n                                <Form.Item  label=\"项目编码\" name='id' rules={[{ required: false }]}                                >\r\n                                    <Input  readOnly placeholder='编码系统自动生成' onChange={e => this.setState({id: e.target.value}) }/>\r\n                                </Form.Item>\r\n                            </Col>\r\n                            <Col className=\"gutter-row\" span={6}>\r\n                                <Form.Item  label=\"建单人\" name='id' rules={[{ required: false }]}                                >\r\n                                    <Input  readOnly  onChange={e => this.setState({id: e.target.value}) }/>\r\n                                </Form.Item>\r\n                            </Col>\r\n\r\n                            <Col className=\"gutter-row\" span={6}>\r\n                                <Form.Item label=\"建单时间\" name='createTime' >\r\n                                    <DatePicker  style={{ width: '100%' }} placeholder='选择日期'  onChange={evt => {\r\n                                            this.setState({ createTime: evt}) \r\n                                          }} />\r\n                                </Form.Item>\r\n                            </Col>\r\n\r\n                            <Col className=\"gutter-row\" span={6}>\r\n                                <Form.Item  label=\"采购单\" name='projectName' rules={[{ required: true }]}                                >\r\n                                    <Input.Search placeholder='请选择采购单' enterButton readOnly  onSearch={() => this.setState({modaProject: true}) }/>\r\n                                </Form.Item>\r\n                            </Col>\r\n\r\n                            <Col className=\"gutter-row\" span={6}>\r\n                                <Form.Item  label=\"采购人\" name='id' rules={[{ required: false }]}                                >\r\n                                    <Input readOnly onChange={e => this.setState({id: e.target.value}) }/>\r\n                                </Form.Item>\r\n                            </Col>\r\n                            <Col className=\"gutter-row\" span={6}>\r\n                                <Form.Item  label=\"项目名称\" name='id' rules={[{ required: false }]}                                >\r\n                                    <Input readOnly onChange={e => this.setState({id: e.target.value}) }/>\r\n                                </Form.Item>\r\n                            </Col>\r\n                            <Col className=\"gutter-row\" span={6}>\r\n                                <Form.Item  label=\"供应商\" name='id' rules={[{ required: false }]}                                >\r\n                                    <Input readOnly onChange={e => this.setState({id: e.target.value}) }/>\r\n                                </Form.Item>\r\n                            </Col>\r\n                            <Col className=\"gutter-row\" span={6}>\r\n                                <Form.Item  label=\"材料名称\" name='id' rules={[{ required: false }]}                                >\r\n                                    <Input readOnly onChange={e => this.setState({id: e.target.value}) }/>\r\n                                </Form.Item>\r\n                            </Col>\r\n                            <Col className=\"gutter-row\" span={6}>\r\n                                <Form.Item  label=\"计量单位\" name='id' rules={[{ required: false }]}                                >\r\n                                    <Input readOnly onChange={e => this.setState({id: e.target.value}) }/>\r\n                                </Form.Item>\r\n                            </Col>\r\n                            <Col className=\"gutter-row\" span={6}>\r\n                                <Form.Item  label=\"重量\" name='id' rules={[{ required: false }]}                                >\r\n                                    <Input readOnly onChange={e => this.setState({id: e.target.value}) }/>\r\n                                </Form.Item>\r\n                            </Col>\r\n                            <Col className=\"gutter-row\" span={24}>\r\n                                <Form.Item  label=\"备注\" name='id' rules={[{ required: false }]}                                >\r\n                                    <Input onChange={e => this.setState({id: e.target.value}) }/>\r\n                                </Form.Item>\r\n                            </Col>\r\n                        </Row>\r\n                </Form>\r\n                </article>\r\n\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default Edit","C:\\Users\\47319\\Desktop\\practise\\React-1000phone-practice\\react_documentary_web\\src\\pages\\receiving\\List.jsx",[],"C:\\Users\\47319\\Desktop\\practise\\React-1000phone-practice\\react_documentary_web\\src\\pages\\project\\Edit.jsx",["134","135","136"],"import React, { Component, createRef, Fragment } from 'react'\r\nimport { Input, Button, Row, Col, Form, Modal, DatePicker, Cascader, message, Pagination } from 'antd'\r\nimport { DownloadOutlined } from '@ant-design/icons'\r\nimport { getCityApi, projectInfoApi, addProjectApi, updateProjectApi } from '../../apis/userApi'\r\nimport UserComponent from '../common/userListComponent'\r\nimport moment from 'moment'\r\n\r\nlet isEdit\r\nclass Edit extends Component {\r\n\r\n    state = {\r\n        modaVisible: false,\r\n        form: createRef(),\r\n        cityList: [],\r\n\r\n        id: \"\",\r\n        name: '',\r\n        liableName: '',\r\n        signTime: '',\r\n        province: '',\r\n        city: '',\r\n        county: '',\r\n        address: '',\r\n        ownerName: '',\r\n        ownerPhone: '',\r\n        ownerAddress: '',\r\n        remark: '',\r\n\r\n        defaultCity: []\r\n\r\n    }\r\n\r\n    async componentDidMount () {\r\n        let cities = await getCityApi()\r\n        if(cities.code === 200) {\r\n            this.setState({\r\n                cityList: cities.data\r\n            })\r\n        }\r\n\r\n        isEdit = this.props.location.isEdit || false\r\n\r\n        let projectId = this.props.location.projectId\r\n\r\n        if(isEdit && projectId) {\r\n            let projectInfo = await projectInfoApi(projectId)\r\n\r\n            console.log(projectInfo.data)\r\n            if(projectInfo.code !== 200) {\r\n                message.error('获取项目信息失败！')\r\n                return\r\n            }\r\n\r\n            this.setState({\r\n                defaultCity: [projectInfo.data.province,projectInfo.data.city,projectInfo.data.county]\r\n            })\r\n\r\n            this.state.form.current.setFieldsValue({\r\n                ...projectInfo.data,\r\n                signTime: moment(projectInfo.data.signTime, 'YYYY-MM-DD'),\r\n            })\r\n\r\n            this.setState({\r\n                ...projectInfo.data,\r\n                signTime: moment(projectInfo.data.signTime, 'YYYY-MM-DD'),\r\n            })\r\n\r\n        }\r\n    }\r\n\r\n    // 选择负责人\r\n    selectPrincipal (name, modaVisible) {\r\n        console.log(name, modaVisible,'父组件')\r\n        this.setState({\r\n            liableName: name,\r\n            modaVisible\r\n        })\r\n        this.state.form.current.setFieldsValue({\r\n            liableName: name\r\n        })\r\n    }\r\n\r\n    async editEvt (type) {\r\n        switch (type) {\r\n            case 'save':\r\n                await this.state.form.current.validateFields().catch(e => e)\r\n                if(isEdit) {\r\n                    this.updateProject()\r\n                } else {\r\n                    this.addProject()\r\n                }\r\n                break\r\n            case 'return':\r\n                this.props.history.goBack()\r\n                break\r\n            default:\r\n                break\r\n        }\r\n    }\r\n\r\n\r\n    async addProject () {\r\n        let res = await addProjectApi(this.state)\r\n        if(res.code === 200) {\r\n            message.success('添加项目成功！')\r\n            this.state.form.current.resetFields()\r\n\r\n        } else {\r\n            message.error('添加项目失败！')\r\n            this.state.form.current.resetFields()\r\n        }\r\n    }\r\n\r\n    async updateProject () {\r\n        let res = await updateProjectApi(this.state)\r\n        if(res.code === 200) {\r\n            message.success('更新项目成功！')\r\n        } else {\r\n            message.error('更新项目失败！')\r\n        }\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div className='page-layout-container'>\r\n                <header>\r\n                    <Button type='primary' onClick={this.editEvt.bind(this, 'save')}>保存</Button>\r\n                    <Button onClick={this.editEvt.bind(this, 'return')}>返回</Button>\r\n                </header>\r\n                <article>\r\n                    <Form ref={this.state.form}>\r\n                        <Row gutter={16}>\r\n                            <Col className=\"gutter-row\" span={6}>\r\n                                <Form.Item  label=\"项目编码\" name='id' rules={[{ required: false }]}                                >\r\n                                    <Input  onChange={e => this.setState({id: e.target.value}) }/>\r\n                                </Form.Item>\r\n                            </Col>\r\n                            <Col className=\"gutter-row\" span={6}>\r\n                                <Form.Item  label=\"项目名称\" name='name' rules={[{ required: false }]}                                >\r\n                                    <Input  onChange={e => this.setState({name: e.target.value}) }/>\r\n                                </Form.Item>\r\n                            </Col>\r\n                            <Col className=\"gutter-row\" span={6}>\r\n                                <Form.Item  label=\"负责姓名\" name='liableName' rules={[{ required: true }]}                                >\r\n                                    <Input.Search placeholder='请选择负责人' enterButton readOnly  onSearch={() => this.setState({modaVisible: true}) }/>\r\n                                </Form.Item>\r\n                            </Col>\r\n\r\n                            <Col className=\"gutter-row\" span={6}>\r\n                                <Form.Item label=\"创建时间\" name='signTime'>\r\n                                    <DatePicker  style={{ width: '100%' }} placeholder='选择日期'  onChange={evt => {\r\n                                            this.setState({ signTime: evt}) \r\n                                          }} />\r\n                                </Form.Item>\r\n                            </Col>\r\n                            <Col className=\"gutter-row\" span={12}>\r\n                                <Form.Item  label=\"省市区\"  rules={[{ required: true }]}                                >\r\n                                    <Cascader value={this.state.defaultCity} options={this.state.cityList} onChange={e => \r\n                                    this.setState({\r\n                                        province: e[0],\r\n                                        city: e[1],\r\n                                        county: e[2],\r\n                                        defaultCity: e\r\n                                    })} placeholder=\"请选择地址\" />\r\n                                </Form.Item>\r\n                            </Col>\r\n                            <Col className=\"gutter-row\" span={12}>\r\n                                <Form.Item  label=\"详细地址\" name='address' rules={[{ required: true }]}                                >\r\n                                    <Input placeholder='请输入详细地址'  onChange={e => this.setState({address: e.target.value}) }/>\r\n                                </Form.Item>\r\n                            </Col>\r\n                            <Col className=\"gutter-row\" span={6}>\r\n                                <Form.Item  label=\"业主姓名\" name='ownerName' rules={[{ required: false }]}                                >\r\n                                    <Input placeholder='请输入业主姓名'  onChange={e => this.setState({ownerName: e.target.value}) }/>\r\n                                </Form.Item>\r\n                            </Col>\r\n                            <Col className=\"gutter-row\" span={6}>\r\n                                <Form.Item  label=\"业主手机\" name='ownerPhone' rules={[{ required: false }]}                                >\r\n                                    <Input placeholder='请输入业主手机'  onChange={e => this.setState({ownerPhone: e.target.name}) }/>\r\n                                </Form.Item>\r\n                            </Col>\r\n                            <Col className=\"gutter-row\" span={12}>\r\n                                <Form.Item  label=\"联系地址\" name='ownerAddress' rules={[{ required: false }]}                                >\r\n                                    <Input placeholder='请输入联系地址' onChange={e => this.setState({ownerAddress: e.target.name}) }/>\r\n                                </Form.Item>\r\n                            </Col>\r\n                            <Col className=\"gutter-row\" span={24}>\r\n                                <Form.Item  label=\"备注\" name='remark'                               >\r\n                                    <Input.TextArea placeholder='请输入备注'  onChange={e => this.setState({remark: e.target.name})  } allowClear />\r\n                                </Form.Item>\r\n                            </Col>\r\n                        </Row>\r\n                    </Form>\r\n                    <Modal\r\n                        title=\"请选择项目负责人\"\r\n                        width={1000}\r\n                        className='modal-fixed-height'\r\n                        visible={this.state.modaVisible}\r\n                        onCancel={() => this.setState({modaVisible: false})}\r\n                        okButtonProps={{ style: {display:'none'}  }}\r\n                    >\r\n                        <UserComponent  selectPrincipal={this.selectPrincipal.bind(this)} />\r\n                    </Modal>\r\n                </article>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default Edit","C:\\Users\\47319\\Desktop\\practise\\React-1000phone-practice\\react_documentary_web\\src\\pages\\purchase\\Edit.jsx",["137","138"],"import React, { Component, createRef } from 'react'\r\nimport { Input, Button, Row, Col, Form, Modal, DatePicker, Cascader, message, Select } from 'antd'\r\nimport { DownloadOutlined } from '@ant-design/icons'\r\nimport { getPurchaseInfoApi, addPurchaseApi, updatePurchaseApi } from '../../apis/userApi'\r\nimport moment from 'moment'\r\nimport PurchaseComponent from '../common/purchaseComponent'\r\n\r\n\r\nlet isEdit\r\nclass Edit extends Component {\r\n\r\n    \r\n    state = {\r\n        contentForm: createRef(),\r\n        id: '', \r\n        approveInfo: '',  \r\n        createName: '',\r\n        modaProject: false,\r\n        modaMaterial: false,\r\n        modaSupplier: false,\r\n        modaApprove: false\r\n    }\r\n\r\n    async componentDidMount () {\r\n\r\n        isEdit = this.props.location.isEdit || false\r\n\r\n        let purchaseId = this.props.location.purchaseId\r\n\r\n        if(isEdit && purchaseId) {\r\n            let purchaseInfo = await getPurchaseInfoApi({id: purchaseId})\r\n\r\n            console.log(purchaseInfo.data)\r\n\r\n            if(purchaseInfo.code !== 200) {\r\n                message.error('获取项目信息失败！')\r\n                return\r\n            }\r\n\r\n            this.setState({\r\n                ...purchaseInfo.data,\r\n                id: purchaseId,\r\n                remark: purchaseInfo.data.remark[0].remark,\r\n                createTime: moment(purchaseInfo.data.createTime, 'YYYY-MM-DD'),\r\n            })\r\n            this.state.contentForm.current.setFieldsValue({\r\n                ...purchaseInfo.data,\r\n                remark: purchaseInfo.data.remark[0].remark,\r\n                createTime: moment(this.state.createTime, 'YYYY-MM-DD'),\r\n                approveInfo: `共${this.state.nextId.length}个审批人`\r\n            })\r\n        } else {\r\n            let userInfo = JSON.parse(sessionStorage.getItem('common-reducer-cash'))\r\n            this.setState({\r\n                createName: userInfo.userInfo.name,\r\n            }, () => {\r\n                this.state.contentForm.current.setFieldsValue({\r\n                    createName: this.state.createName\r\n                })\r\n            })\r\n            \r\n        }\r\n    }\r\n\r\n    // 选择项目\r\n    selectItem (obj) {\r\n        console.log(obj)\r\n        switch (obj.type) {\r\n            case 'projectName':\r\n                this.setState({\r\n                    projectName: obj.name,\r\n                    modaProject: obj.showModa\r\n                })\r\n                this.state.contentForm.current.setFieldsValue({\r\n                    projectName: obj.name\r\n                })\r\n                break\r\n            case 'materialName':\r\n                this.setState({\r\n                    materialName: obj.name,\r\n                    modaMaterial: obj.showModa\r\n                })\r\n                this.state.contentForm.current.setFieldsValue({\r\n                    materialName: obj.name\r\n                })\r\n                break\r\n            case 'supplierName':\r\n                this.setState({\r\n                    supplierName: obj.name,\r\n                    modaSupplier: obj.showModa\r\n                })\r\n                this.state.contentForm.current.setFieldsValue({\r\n                    supplierName: obj.name\r\n                })\r\n                break\r\n            case 'approveName':\r\n                console.log(obj.names)\r\n                this.setState({\r\n                    nextId: obj.names,\r\n                    modaApprove: obj.showModa\r\n                }, () => {\r\n                    console.log(this.state.nextId,'---------------')\r\n                    this.state.contentForm.current.setFieldsValue({\r\n                        approveInfo: `共${this.state.nextId.length}个审批人`\r\n                    })\r\n                })\r\n                break\r\n            default:\r\n                break\r\n        }\r\n        \r\n    }\r\n\r\n    async editEvt (type) {\r\n        switch (type) {\r\n            case 'save':\r\n                try {\r\n                    await this.state.contentForm.current.validateFields()\r\n                    if (isEdit) {\r\n                        this.updatePurchase()\r\n                    } else {\r\n                        this.addPurchase()\r\n                    }\r\n                } catch (e) {console.log(e)}\r\n            break\r\n                \r\n            case 'return':\r\n                this.props.history.goBack()\r\n                break\r\n            default:\r\n                break\r\n        }\r\n    }\r\n\r\n\r\n    async addPurchase () {\r\n        let res = await addPurchaseApi(this.state)\r\n        if(res.code === 200) {\r\n            message.success('添加项目成功！')\r\n            this.state.contentForm.current.resetFields()\r\n\r\n        } else {\r\n            message.error('添加项目失败！')\r\n            this.state.contentForm.current.resetFields()\r\n        }\r\n    }\r\n\r\n    async updatePurchase () {\r\n        let res = await updatePurchaseApi(this.state)\r\n        if(res.code === 200) {\r\n            message.success('更新项目成功！')\r\n        } else {\r\n            message.error('更新项目失败！')\r\n        }\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div className='page-layout-container'>\r\n                <header>\r\n                    <Button type='primary' onClick={this.editEvt.bind(this, 'save')}>保存</Button>\r\n                    <Button onClick={this.editEvt.bind(this, 'return')}>返回</Button>\r\n                </header>\r\n                <article>\r\n                    <Form ref={this.state.contentForm}>\r\n                        <Row gutter={16}>\r\n                            <Col className=\"gutter-row\" span={6}>\r\n                                <Form.Item  label=\"采购单号\" name='id' rules={[{ required: false }]}                                >\r\n                                    <Input  readOnly placeholder='采购单号由系统自动生成' onChange={e => this.setState({id: e.target.value}) }/>\r\n                                </Form.Item>\r\n                            </Col>\r\n                            <Col className=\"gutter-row\" span={6}>\r\n                                <Form.Item  label=\"创建人\" name='createName'  rules={[{ required: false }]}                                >\r\n                                    <Input readOnly onChange={e => this.setState({createName: e.target.value}) }/>\r\n                                </Form.Item>\r\n                            </Col>\r\n\r\n                            <Col className=\"gutter-row\" span={6}>\r\n                                <Form.Item label=\"创建时间\" name='createTime' rules={[{ required: true }]}>\r\n                                    <DatePicker  style={{ width: '100%' }} placeholder='选择日期'  onChange={evt => {\r\n                                            this.setState({ createTime: evt}) \r\n                                          }} />\r\n                                </Form.Item>\r\n                            </Col>\r\n                            \r\n\r\n                            <Col className=\"gutter-row\" span={6}>\r\n                                <Form.Item  label=\"项目名称\" name='projectName' rules={[{ required: true }]}                                >\r\n                                    <Input.Search placeholder='请选择项目' enterButton readOnly  onSearch={() => this.setState({modaProject: true}) }/>\r\n                                </Form.Item>\r\n                            </Col>\r\n\r\n                            <Col className=\"gutter-row\" span={6}>\r\n                                <Form.Item  label=\"材料名称\" name='materialName' rules={[{ required: true }]}                                >\r\n                                    <Input.Search placeholder='请选择材料' enterButton readOnly  onSearch={() => this.setState({modaMaterial: true}) }/>\r\n                                </Form.Item>\r\n                            </Col>\r\n\r\n                            <Col className=\"gutter-row\" span={6}>\r\n                                <Form.Item label=\"材料单位\" name='materialUnit' rules={[{ required: true }]}>\r\n                                    <Select  style={{ width: '100%' }} onChange={evt => { this.setState({ materialUnit: evt })}}>\r\n                                        <Select.Option value=\"千克\">千克</Select.Option>\r\n                                        <Select.Option value=\"吨\">吨</Select.Option>\r\n                                        <Select.Option value=\"方\">方</Select.Option>\r\n                                    </Select>\r\n                                </Form.Item>\r\n                            </Col>\r\n                            \r\n                            <Col className=\"gutter-row\" span={6}>\r\n                                <Form.Item  label=\"材料重量\" name='materialWeight' rules={[{ required: true }]}                                >\r\n                                    <Input  onChange={e => this.setState({materialWeight: e.target.value}) }/>\r\n                                </Form.Item>\r\n                            </Col>\r\n\r\n                            <Col className=\"gutter-row\" span={6}>\r\n                                <Form.Item  label=\"材料单价\" name='price' rules={[{ required: true }]}                                >\r\n                                    <Input  onChange={e => this.setState({price: e.target.value}) }/>\r\n                                </Form.Item>\r\n                            </Col>\r\n                            <Col className=\"gutter-row\" span={6}>\r\n                                <Form.Item  label=\"供应商名称\" name='supplierName' rules={[{ required: true }]}                                >\r\n                                    <Input.Search placeholder='请选择供应商' enterButton readOnly  onSearch={() => this.setState({modaSupplier: true}) }/>\r\n                                </Form.Item>\r\n                            </Col>\r\n                            <Col className=\"gutter-row\" span={6}>\r\n                                <Form.Item  label=\"供应联系人\" name='supplierContact' rules={[{ required: false }]}                                >\r\n                                    <Input  onChange={e => this.setState({createName: e.target.value}) }/>\r\n                                </Form.Item>\r\n                            </Col>\r\n                            <Col className=\"gutter-row\" span={6}>\r\n                                <Form.Item  label=\"供应商电话\" name='supplierPhone' rules={[{ required: false }]}                                >\r\n                                    <Input  onChange={e => this.setState({supplierPhone: e.target.value}) }/>\r\n                                </Form.Item>\r\n                            </Col>\r\n                            <Col className=\"gutter-row\" span={12}>\r\n                                <Form.Item  label=\"审批人\" name='approveInfo' rules={[{ required: true }]}                                >\r\n                                    <Input.Search  placeholder='请选择审批人' enterButton readOnly  onSearch={() => this.setState({modaApprove: true}) }/>\r\n                                </Form.Item>\r\n                            </Col>\r\n                            <Col className=\"gutter-row\" span={24}>\r\n                                <Form.Item  label=\"备注\"  name='remark'                     >\r\n                                    <Input.TextArea placeholder='请输入备注'  onChange={e => this.setState({remark: e.target.name})  } allowClear />\r\n                                </Form.Item>\r\n                            </Col>\r\n                        </Row>\r\n                    </Form>\r\n\r\n                    {/* 项目弹出框 */}\r\n                    <Modal\r\n                        title=\"请选择项目\"\r\n                        width={1200}\r\n                        className='modal-fixed-height'\r\n                        visible={this.state.modaProject}\r\n                        onCancel={() => this.setState({modaProject: false})}\r\n                        okButtonProps={{ style: {display:'none'}  }}\r\n                    >\r\n                        <PurchaseComponent  selectItem={this.selectItem.bind(this)} type='projectName'/>\r\n                    </Modal>\r\n\r\n                    {/* 材料弹出框 */}\r\n                    <Modal\r\n                        title=\"请选择材料\"\r\n                        width={1200}\r\n                        className='modal-fixed-height'\r\n                        visible={this.state.modaMaterial}\r\n                        onCancel={() => this.setState({modaMaterial: false})}\r\n                        okButtonProps={{ style: {display:'none'}  }}\r\n                    >\r\n                        <PurchaseComponent  selectItem={this.selectItem.bind(this)} type='materialName'/>\r\n                    </Modal>\r\n\r\n                    {/* 供应商弹出框 */}\r\n                    <Modal\r\n                        title=\"请选择供应商\"\r\n                        width={1200}\r\n                        className='modal-fixed-height'\r\n                        visible={this.state.modaSupplier}\r\n                        onCancel={() => this.setState({modaSupplier: false})}\r\n                        okButtonProps={{ style: {display:'none'}  }}\r\n                    >\r\n                        <PurchaseComponent  selectItem={this.selectItem.bind(this)} type='supplierName'/>\r\n                    </Modal>\r\n\r\n                    {/* 审批弹出框 */}\r\n                    <Modal\r\n                        title=\"请选择供应商\"\r\n                        width={1200}\r\n                        className='modal-fixed-height'\r\n                        visible={this.state.modaApprove}\r\n                        onCancel={() => this.setState({modaApprove: false})}\r\n                        okButtonProps={{ style: {display:'none'}  }}\r\n                    >\r\n                        <PurchaseComponent  selectItem={this.selectItem.bind(this)} type='approveName'/>\r\n                    </Modal>\r\n                </article>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default Edit","C:\\Users\\47319\\Desktop\\practise\\React-1000phone-practice\\react_documentary_web\\src\\pages\\project\\List.jsx",[],"C:\\Users\\47319\\Desktop\\practise\\React-1000phone-practice\\react_documentary_web\\src\\pages\\common\\userListComponent.jsx",["139","140","141"],"import React, { Component, createRef } from 'react'\r\nimport { Table, Modal, Input, Button, Pagination, message } from 'antd'\r\nimport { getUserListApi } from '../../apis/userApi'\r\nimport { ExclamationCircleOutlined } from '@ant-design/icons'\r\n\r\nlet timer = null\r\n\r\nclass userComponent extends Component {\r\n\r\n    state = {\r\n        userSource: [],\r\n        column:\r\n            [\r\n                {\r\n                    title: '用户姓名',\r\n                    dataIndex: 'name',\r\n                    key: 'name'\r\n                },\r\n                {\r\n                    title: '部门',\r\n                    dataIndex: 'dept',\r\n                    key: 'dept'\r\n                },\r\n                {\r\n                    title: '职位',\r\n                    dataIndex: 'duties',\r\n                    key: 'duties'\r\n                },\r\n                {\r\n                    title: '电话',\r\n                    dataIndex: 'phone',\r\n                    key: 'phone'\r\n                },\r\n                {\r\n                    title: '备注',\r\n                    dataIndex: 'remark',\r\n                    key: 'remark',\r\n                    width: 400\r\n                },\r\n                {\r\n                    title: '操作',\r\n                    render: data => {\r\n                        return (\r\n                            <>\r\n                                <span className='editBtn' onClick={ this.editEvt.bind(this, data, 'select') }>选择</span>\r\n                            </>\r\n                        )\r\n                    }\r\n\r\n                }\r\n            ],\r\n        tableHeight: 0,\r\n        tableNode: createRef(),\r\n        name: '',\r\n        page: 1,\r\n        size: 15,\r\n        total: 0\r\n\r\n    }\r\n    \r\n    editEvt (data, type) {\r\n        switch (type) {\r\n            case 'select':\r\n                console.log(data)\r\n                this.props.selectPrincipal(data.name, false)\r\n                break\r\n\r\n            default:\r\n                break\r\n        }\r\n    }\r\n\r\n\r\n    componentDidMount () {\r\n\r\n        console.log(this,'==============')\r\n\r\n        this.getlist()\r\n        if(this.state.tableNode.current) {\r\n            this.setState({\r\n                tableHeight: this.state.tableNode.current.clientHeight - 16 - 39\r\n            })\r\n        }\r\n\r\n        window.addEventListener('resize', this.tableResize)\r\n    }\r\n\r\n    tableResize = () => {\r\n        \r\n        if(timer) {\r\n            clearTimeout(timer)\r\n            timer = null\r\n        }\r\n        \r\n        timer = setTimeout(() => {\r\n            clearTimeout(timer)\r\n            timer = null\r\n            \r\n            if(this.state.tableNode.current) {\r\n                this.setState({\r\n                    tableHeight: this.state.tableNode.current.clientHeight - 16 - 39\r\n                })\r\n            }\r\n        }, 500);\r\n\r\n    }\r\n\r\n    async getlist () {\r\n        let res = await getUserListApi(\r\n            {name: this.state.name, page: this.state.page, size: this.state.size}\r\n        )\r\n        if(res.code === 200) {\r\n            this.setState({\r\n                userSource: res.data.rows.map((item, i) => {\r\n                    item.key = i\r\n                    return item\r\n                }),\r\n                total: res.data.total\r\n            })\r\n        }\r\n    }\r\n\r\n\r\n\r\n\r\n    render() {\r\n        return (\r\n            <div className='page-layout-container'>\r\n                <header>\r\n                    <Input value={this.state.name} onChange={ evt => {\r\n                        this.setState({name: evt.target.value})\r\n                    } }></Input>\r\n                    <Button type='primary' onClick={this.getlist.bind(this)}>查询</Button>\r\n                </header>\r\n                <article ref={this.state.tableNode}>\r\n                    <Table \r\n                        dataSource={this.state.userSource} \r\n                        columns={this.state.column} \r\n                        pagination={false}\r\n                        size='small'\r\n                        scroll={{y: this.state.tableHeight}}\r\n                    />\r\n                </article>\r\n                <footer>\r\n                    <Pagination\r\n                        size='small'\r\n                        total={this.state.total}\r\n                        pageSize={this.state.size}\r\n                        showTotal={total =>  `合计 ${total} 条`}\r\n                        pageSizeOptions={[15,30,50,100]}\r\n                        current={this.state.page}\r\n                        showQuickJumper={true}\r\n                        onChange={(page, size) => {\r\n                            this.setState({\r\n                                page,\r\n                                size\r\n                            }, () => {\r\n                                console.log('change')\r\n                                this.getlist()\r\n                            })\r\n                        }}\r\n                    />\r\n                </footer>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default userComponent","C:\\Users\\47319\\Desktop\\practise\\React-1000phone-practice\\react_documentary_web\\src\\pages\\common\\purchaseComponent.jsx",["142","143","144","145"],"import React, { Component, createRef } from 'react'\r\nimport { Table, Modal, Input, Button, Pagination, message } from 'antd'\r\nimport { getProjectList, getMaterialListApi, getSupplierListApi, getUserListApi } from '../../apis/userApi'\r\nimport { ExclamationCircleOutlined } from '@ant-design/icons'\r\n\r\n\r\nlet timer = null\r\n\r\nclass projectComponent extends Component {\r\n\r\n    // 项目名称\r\n    projectList = [\r\n        {\r\n            title: '项目名称',\r\n            dataIndex: 'name',\r\n            key: 'name'\r\n        },\r\n        {\r\n            title: '负责人姓名',\r\n            dataIndex: 'liableName',\r\n            key: 'liableName'\r\n        },\r\n        {\r\n            title: '项目启动时间',\r\n            dataIndex: 'signTime',\r\n            key: 'signTime'\r\n        },\r\n        {\r\n            title: '备注',\r\n            dataIndex: 'remark',\r\n            key: 'remark',\r\n        },\r\n        {\r\n            title: '操作',\r\n            render: data => {\r\n                return (\r\n                    <>\r\n                        <span className='editBtn' onClick={ this.editEvt.bind(this, data, 'select') }>选择</span>\r\n                    </>\r\n                )\r\n            }\r\n\r\n        }\r\n    ]\r\n    // 材料名称\r\n    materialList = [\r\n        {\r\n            title: '材料编码',\r\n            dataIndex: 'id',\r\n            key: 'id'\r\n        },\r\n        {\r\n            title: '材料名称',\r\n            dataIndex: 'name',\r\n            key: 'name',\r\n            width: 800\r\n        },\r\n        {\r\n            title: '操作',\r\n            render: data => {\r\n                return (\r\n                    <>\r\n                        <span className='editBtn' onClick={ this.editEvt.bind(this, data, 'select') }>选择</span>\r\n                    </>\r\n                )\r\n            }\r\n\r\n        }\r\n    ]\r\n    // 供应商名称\r\n    supplierList = [\r\n        {\r\n            title: '供应商名字',\r\n            dataIndex: 'name',\r\n            key: 'name'\r\n        },\r\n        {\r\n            title: '联系人',\r\n            dataIndex: 'contact',\r\n            key: 'contact',\r\n        },\r\n        {\r\n            title: '联系电话',\r\n            dataIndex: 'phone',\r\n            key: 'phone',\r\n        },\r\n        {\r\n            title: '备注',\r\n            dataIndex: 'remark',\r\n            key: 'remark',\r\n        },\r\n        {\r\n            title: '操作',\r\n            render: data => {\r\n                return (\r\n                    <>\r\n                        <span className='editBtn' onClick={ this.editEvt.bind(this, data, 'select') }>选择</span>\r\n                    </>\r\n                )\r\n            }\r\n\r\n        }\r\n    ]\r\n    // 审批人\r\n    approveList = [\r\n        {\r\n            title: '审批人姓名',\r\n            dataIndex: 'name',\r\n            key: 'name'\r\n        },\r\n        {\r\n            title: '部门',\r\n            dataIndex: 'dept',\r\n            key: 'dept',\r\n        },\r\n        {\r\n            title: '职位',\r\n            dataIndex: 'duties',\r\n            key: 'duties',\r\n        },\r\n        {\r\n            title: '备注',\r\n            dataIndex: 'remark',\r\n            key: 'remark',\r\n        },\r\n    ]\r\n    state = {\r\n        selectedRowKeys: [],\r\n\r\n        source: [],\r\n        column: [],\r\n        tableHeight: 0,\r\n        tableNode: createRef(),\r\n        name: '',\r\n        page: 1,\r\n        size: 15,\r\n        total: 0\r\n    }\r\n    \r\n    editEvt (data, type) {\r\n        switch (type) {\r\n            case 'select':\r\n                this.props.selectItem({name: data.name, shouModa: false, type: this.props.type})\r\n                break\r\n            case 'multiSelect':\r\n                this.props.selectItem({names: data, shouModa: false, type: this.props.type})\r\n            default:\r\n                break\r\n        }\r\n    }\r\n\r\n\r\n\r\n    onSelectChange = selectedRowKeys => {\r\n        this.setState({ selectedRowKeys });\r\n    };\r\n\r\n\r\n\r\n\r\n\r\n    componentDidMount () {\r\n\r\n        console.log(this,'==============')\r\n\r\n        this.getlist()\r\n        if(this.state.tableNode.current) {\r\n            this.setState({\r\n                tableHeight: this.state.tableNode.current.clientHeight - 16 - 39\r\n            })\r\n        }\r\n\r\n        window.addEventListener('resize', this.tableResize)\r\n    }\r\n\r\n    componentWillUnmount () {\r\n      window.removeEventListener('resize', this.tableResize)\r\n      clearTimeout(timer)\r\n    }\r\n\r\n    tableResize = () => {\r\n        \r\n        if(timer) {\r\n            clearTimeout(timer)\r\n            timer = null\r\n        }\r\n        \r\n        timer = setTimeout(() => {\r\n            clearTimeout(timer)\r\n            timer = null\r\n            \r\n            if(this.state.tableNode.current) {\r\n                this.setState({\r\n                    tableHeight: this.state.tableNode.current.clientHeight - 16 - 39\r\n                })\r\n            }\r\n        }, 500);\r\n\r\n    }\r\n\r\n    async getlist () {\r\n        let res\r\n        switch (this.props.type) {\r\n            case 'projectName':\r\n                res = await getProjectList(\r\n                    {name: this.state.name, page: this.state.page, size: this.state.size}\r\n                )\r\n                if(res.code === 200) {\r\n                    this.setState({\r\n                        source: res.data.rows.map((item, i) => {\r\n                            item.key = i\r\n                            return item\r\n                        }),\r\n                        total: res.data.total,\r\n                        column: this.projectList\r\n                    })\r\n                }\r\n                break\r\n            case 'materialName':\r\n                res = await getMaterialListApi()\r\n                if(res.code === 200) {\r\n                    this.setState({\r\n                        source: res.data.rows.map((item, i) => {\r\n                            item.key = i\r\n                            return item\r\n                        }),\r\n                        total: res.data.total,\r\n                        column: this.materialList\r\n                    })\r\n                }\r\n                break\r\n            case 'supplierName':\r\n                res = await getSupplierListApi({name: this.state.name, page: this.state.page, size: this.state.size})\r\n                if(res.code === 200) {\r\n                    this.setState({\r\n                        source: res.data.rows.map((item, i) => {\r\n                            item.key = i\r\n                            return item\r\n                        }),\r\n                        total: res.data.total,\r\n                        column: this.supplierList\r\n                    })\r\n                }\r\n                break\r\n            case 'approveName':\r\n                res = await getUserListApi({name: this.state.name, page: this.state.page, size: this.state.size})\r\n                if(res.code === 200) {\r\n                    this.setState({\r\n                        source: res.data.rows.map((item, i) => {\r\n                            item.key = item.id\r\n                            return item\r\n                        }),\r\n                        total: res.data.total,\r\n                        column: this.approveList\r\n                    })\r\n                }\r\n                break\r\n\r\n\r\n\r\n            default:\r\n                break\r\n        }\r\n    }\r\n\r\n\r\n\r\n\r\n    render() {\r\n        const rowSelection = {\r\n            selectedRowKeys: this.state.selectedRowKeys,\r\n            onChange: this.onSelectChange,\r\n          };\r\n          \r\n        return (\r\n            <div className='page-layout-container'>\r\n                <header>\r\n                    {\r\n                        this.props.type === 'materialName' || \r\n                        <>\r\n                            <Input value={this.state.name} onChange={evt => {\r\n                                this.setState({ name: evt.target.value })\r\n                            }}></Input>\r\n                            <Button type='primary' onClick={this.getlist.bind(this)}>查询</Button>\r\n                            {\r\n                                this.props.type === 'approveName' &&\r\n                                <Button type='primary' onClick={this.editEvt.bind(this, this.state.selectedRowKeys, 'multiSelect')}>确定</Button>\r\n                            }\r\n                        </>\r\n                    }\r\n                    \r\n                </header>\r\n                <article ref={this.state.tableNode}>\r\n                    {\r\n                        this.props.type === 'approveName' ? \r\n                            (\r\n                                <Table\r\n                                    rowSelection={rowSelection}\r\n                                    dataSource={this.state.source}\r\n                                    columns={this.state.column}\r\n                                    pagination={false}\r\n                                    size='small'\r\n                                    scroll={{ y: this.state.tableHeight }}\r\n                                />\r\n                            )\r\n                        :\r\n                            (\r\n                                <Table\r\n                                    dataSource={this.state.source}\r\n                                    columns={this.state.column}\r\n                                    pagination={false}\r\n                                    size='small'\r\n                                    scroll={{ y: this.state.tableHeight }}\r\n                                />\r\n                            )\r\n                    }\r\n                    \r\n                </article>\r\n                <footer>\r\n                    <Pagination\r\n                        size='small'\r\n                        total={this.state.total}\r\n                        pageSize={this.state.size}\r\n                        showTotal={total =>  `合计 ${total} 条`}\r\n                        pageSizeOptions={[15,30,50,100]}\r\n                        current={this.state.page}\r\n                        showQuickJumper={true}\r\n                        onChange={(page, size) => {\r\n                            this.setState({\r\n                                page,\r\n                                size\r\n                            }, () => {\r\n                                this.getlist()\r\n                            })\r\n                        }}\r\n                    />\r\n                </footer>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default projectComponent",{"ruleId":"146","replacedBy":"147"},{"ruleId":"148","replacedBy":"149"},{"ruleId":"150","severity":1,"message":"151","line":350,"column":53,"nodeType":"152","messageId":"153","endLine":350,"endColumn":54},{"ruleId":"150","severity":1,"message":"151","line":350,"column":60,"nodeType":"152","messageId":"153","endLine":350,"endColumn":61},{"ruleId":"154","severity":1,"message":"155","line":12,"column":1,"nodeType":"156","endLine":42,"endColumn":2},{"ruleId":"154","severity":1,"message":"155","line":30,"column":1,"nodeType":"156","endLine":43,"endColumn":2},{"ruleId":"157","severity":1,"message":"158","line":233,"column":21,"nodeType":"159","endLine":233,"endColumn":88},{"ruleId":"160","severity":1,"message":"161","line":2,"column":41,"nodeType":"162","messageId":"163","endLine":2,"endColumn":46},{"ruleId":"160","severity":1,"message":"164","line":2,"column":60,"nodeType":"162","messageId":"163","endLine":2,"endColumn":68},{"ruleId":"160","severity":1,"message":"165","line":2,"column":70,"nodeType":"162","messageId":"163","endLine":2,"endColumn":77},{"ruleId":"160","severity":1,"message":"166","line":2,"column":79,"nodeType":"162","messageId":"163","endLine":2,"endColumn":85},{"ruleId":"160","severity":1,"message":"167","line":15,"column":13,"nodeType":"162","messageId":"163","endLine":15,"endColumn":24},{"ruleId":"160","severity":1,"message":"168","line":1,"column":39,"nodeType":"162","messageId":"163","endLine":1,"endColumn":47},{"ruleId":"160","severity":1,"message":"169","line":2,"column":79,"nodeType":"162","messageId":"163","endLine":2,"endColumn":89},{"ruleId":"160","severity":1,"message":"170","line":3,"column":10,"nodeType":"162","messageId":"163","endLine":3,"endColumn":26},{"ruleId":"160","severity":1,"message":"164","line":2,"column":60,"nodeType":"162","messageId":"163","endLine":2,"endColumn":68},{"ruleId":"160","severity":1,"message":"170","line":3,"column":10,"nodeType":"162","messageId":"163","endLine":3,"endColumn":26},{"ruleId":"160","severity":1,"message":"161","line":2,"column":17,"nodeType":"162","messageId":"163","endLine":2,"endColumn":22},{"ruleId":"160","severity":1,"message":"165","line":2,"column":51,"nodeType":"162","messageId":"163","endLine":2,"endColumn":58},{"ruleId":"160","severity":1,"message":"171","line":4,"column":10,"nodeType":"162","messageId":"163","endLine":4,"endColumn":35},{"ruleId":"160","severity":1,"message":"161","line":2,"column":17,"nodeType":"162","messageId":"163","endLine":2,"endColumn":22},{"ruleId":"160","severity":1,"message":"165","line":2,"column":51,"nodeType":"162","messageId":"163","endLine":2,"endColumn":58},{"ruleId":"160","severity":1,"message":"171","line":4,"column":10,"nodeType":"162","messageId":"163","endLine":4,"endColumn":35},{"ruleId":"172","severity":1,"message":"173","line":147,"column":13,"nodeType":"174","messageId":"175","endLine":148,"endColumn":22},"no-native-reassign",["176"],"no-negated-in-lhs",["177"],"no-useless-concat","Unexpected string concatenation of literals.","BinaryExpression","unexpectedConcat","import/no-anonymous-default-export","Assign arrow function to a variable before exporting as module default","ExportDefaultDeclaration","jsx-a11y/anchor-is-valid","The href attribute is required for an anchor to be keyboard accessible. Provide a valid, navigable address as the href value. If you cannot provide an href, but still need the element to resemble a link, use a button and change it with appropriate styles. Learn more: https://github.com/evcohen/eslint-plugin-jsx-a11y/blob/master/docs/rules/anchor-is-valid.md","JSXOpeningElement","no-unused-vars","'Modal' is defined but never used.","Identifier","unusedVar","'Cascader' is defined but never used.","'message' is defined but never used.","'Select' is defined but never used.","'receivingId' is assigned a value but never used.","'Fragment' is defined but never used.","'Pagination' is defined but never used.","'DownloadOutlined' is defined but never used.","'ExclamationCircleOutlined' is defined but never used.","no-fallthrough","Expected a 'break' statement before 'default'.","SwitchCase","default","no-global-assign","no-unsafe-negation"]